---
- name: Get show running-config of Cisco device
  hosts: all
  gather_facts: yes
  tasks:
    - name: Show running-config
      cisco.ios.ios_command:
        commands:
          - show ip ospf interface brief
          - show ip ospf neighbor
          - show run | section router ospf
          - show run | section ^interface
      register: running_config

    - name: Log OSPF neighbor output into a file
      local_action:
        module: copy
        content: "{{ running_config.stdout[0] }}"
        dest: ospf_neighbor_output.txt


    - debug:
        var: running_config.stdout_lines

